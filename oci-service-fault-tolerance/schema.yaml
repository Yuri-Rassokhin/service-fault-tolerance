title: "Fault Tolerant Compute Resource on OCI"
description: "Fault tolerant compute instance with strictly POSIX-compliant local storage and HTTP access"

schemaVersion: 1.1.0

locale: "en"

variableGroups:

  - title: "Region Selection (All Public Regions)"
    visibleWhen:
      cross_ad_fault_tolerance: false
    variables:
      - region_single_ad

  - title: "Region Selection (Multi-AD Public Regions)"
    visibleWhen:
      cross_ad_fault_tolerance: true
    variables:
      - region_multi_ad

  - title: "Cross-AD Mode"
    variables:
      - cross_ad_fault_tolerance

  - title: "Location"
    variables:
      - tenancy_ocid
      - compartment_ocid
      - vcn_ocid
      - subnet_ocid

  - title: "Fault Tolerant Compute Instance"
    variables:
      - shape
      - ocpus
      - memory_gbs

  - title: "Fault Tolerant Storage"
    variables:
      - block_volume_size_gbs
      - fs_type
      - mount_point

  - title: "User Endpoints"
    variables:
      - service_hostname
      - ssh_public_key

variables:

  region_single_ad:
    type: enum
    title: OCI Region
    description: Select OCI region for deployment
    enum:
      - af-johannesburg-1
      - ap-chuncheon-1
      - ap-hyderabad-1
      - ap-melbourne-1
      - ap-mumbai-1
      - ap-osaka-1
      - ap-seoul-1
      - ap-singapore-1
      - ap-sydney-1
      - ap-tokyo-1
      - ca-montreal-1
      - ca-toronto-1
      - eu-amsterdam-1
      - eu-frankfurt-1
      - eu-madrid-1
      - eu-marseille-1
      - eu-milan-1
      - eu-paris-1
      - eu-stockholm-1
      - eu-zurich-1
      - il-jerusalem-1
      - me-abudhabi-1
      - me-dubai-1
      - me-jeddah-1
      - me-riyadh-1
      - mx-monterrey-1
      - mx-queretaro-1
      - sa-santiago-1
      - sa-valparaiso-1
      - sa-saopaulo-1
      - uk-london-1
      - us-ashburn-1
      - us-phoenix-1
      - us-sanjose-1
    enumNames:
      - South Africa (Johannesburg) – 1 AD
      - South Korea (Chuncheon) – 1 AD
      - India (Hyderabad) – 1 AD
      - Australia (Melbourne) – 1 AD
      - India (Mumbai) – 1 AD
      - Japan (Osaka) – 1 AD
      - South Korea (Seoul) – 1 AD
      - Singapore (Singapore) – 3 AD
      - Australia (Sydney) – 3 AD
      - Japan (Tokyo) – 3 AD
      - Canada (Montreal) – 1 AD
      - Canada (Toronto) – 1 AD
      - Netherlands (Amsterdam) – 1 AD
      - Germany (Frankfurt) – 3 AD
      - Spain (Madrid) – 1 AD
      - France (Marseille) – 1 AD
      - Italy (Milan) – 1 AD
      - France (Paris) – 1 AD
      - Sweden (Stockholm) – 1 AD
      - Switzerland (Zurich) – 1 AD
      - Israel (Jerusalem) – 1 AD
      - UAE (Abu Dhabi) – 1 AD
      - UAE (Dubai) – 3 AD
      - Saudi Arabia (Jeddah) – 1 AD
      - Saudi Arabia (Riyadh) – 1 AD
      - Mexico (Monterrey) – 1 AD
      - Mexico (Queretaro) – 1 AD
      - Chile (Santiago) – 1 AD
      - Chile (Valparaiso) – 1 AD
      - Brazil (Sao Paulo) – 1 AD
      - United Kingdom (London) – 3 AD
      - USA (Ashburn) – 3 AD
      - USA (Phoenix) – 3 AD
      - USA (San Jose) – 1 AD

  region_multi_ad:
    type: enum
    title: OCI Region (3 AD only)
    description: Regions supporting multi-AD fault tolerance
    enum:
      - ap-singapore-1
      - ap-sydney-1
      - ap-tokyo-1
      - eu-frankfurt-1
      - me-dubai-1
      - uk-london-1
      - us-ashburn-1
      - us-phoenix-1
    enumNames:
      - Singapore (Singapore) – 3 AD
      - Australia (Sydney) – 3 AD
      - Japan (Tokyo) – 3 AD
      - Germany (Frankfurt) – 3 AD
      - UAE (Dubai) – 3 AD
      - United Kingdom (London) – 3 AD
      - USA (Ashburn) – 3 AD
      - USA (Phoenix) – 3 AD

  cross_ad_fault_tolerance:
    title: "Cross-AD fault tolerance"
    type: boolean
    default: false

  tenancy_ocid:
    title: "Tenancy"
    description: "OCI tenancy OCID where the service will be deployed"

  compartment_ocid:
    title: "Compartment"
    description: "OCI compartment OCID where the service will be deployed"

  vcn_ocid:
    title: "VCN"
    description: "Virtual Cloud Network OCID where the service will be deployed"

  subnet_ocid:
    title: "Subnet"
    description: "Subnet OCID where the service will be deployed"

  shape:
    title: "Compute Shape"
    description: "OCI compute shape for fault-tolerant instance"
    type: enum
    enum:
      - VM.Standard.E5.Flex
      - VM.Standard.E4.Flex
      - VM.Standard3.Flex
    default: VM.Standard.E5.Flex

  ocpus:
    title: "OCPUs"

  memory_gbs:
    title: "Memory (GB)"

  block_volume_size_gbs:
    title: "Raw Size (GB)"

  fs_type:
    title: "Filesystem"
    description: "Filesystem for fault-tolerant storage"
    type: enum
    enum:
      - xfs
      - ext4
    default: xfs

  mount_point:
    title: "Mount Point"

  service_hostname:
    title: "HTTP Endpoint Name"

  ssh_public_key:
    title: "Public Key for External SSH Access"
